[list_tm_garbadge]
gar_story_find_diggers
gar_story_search_digger_bodies
gar_story_chase_digger
gar_story_kill_dogs
gar_story_go_to_freedom
gar_story_chase_pda_signal
gar_story_chase_pda_signal_cellar
gar_story_get_pda

gar_quest_redemption

gar_quest_get_old_pda
gar_quest_get_old_pda_box
gar_quest_bring_old_pda
gar_quest_bring_money
gar_quest_get_weapons
gar_quest_destroy_ambush
gar_quest_get_traitor_pda
gar_quest_speak_with_quester
gar_quest_meet_with_digger_fighters
gar_quest_liberate_conc_camp
gar_quest_captive_reward

gar_quest_kill_digger_traitor
gar_quest_kill_smuggler
gar_quest_destroy_flea_market
gar_quest_bandit_reward
gar_quest_more_reward
gar_quest_bandit_secret

gar_recover_item_1
gar_recover_item_2
gar_recover_item_3
gar_recover_item_4
gar_recover_item_5

;-----------------------------------------------------
;------------------ Storyline Quests -----------------
;-----------------------------------------------------

[gar_story_find_diggers]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 2
name = gar_story_find_diggers_name
text = gar_story_find_diggers_text
condlist_0 = {+gar_story_reached_dead_diggers_camp} reversed
target_story_ids = 702
auto_name = false

[gar_story_search_digger_bodies]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 3
name = gar_story_search_digger_bodies_name
text = gar_story_search_digger_bodies_text
condlist_0 = {+gar_story_searched_digger_body} complete
target_story_ids = 701
auto_name = false

[gar_story_chase_digger]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 3
name = gar_story_chase_digger_name
text = gar_story_chase_digger_text
condlist_0 = {+gar_story_got_info_from_digger} complete
target_story_ids = logic@work1, gar_smart_terrain_8_5
auto_name = false

[gar_story_kill_dogs]
type = defend_smart_delay
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = {-gar_story_messenger_dogs_dead -gar_story_got_info_from_digger =target_smart_name(gar_smart_terrain_8_5)} true
prior = 15
name = gar_story_kill_dogs_name
text = gar_story_kill_dogs_text
on_complete = %+gar_story_messenger_dogs_dead%
on_reversed = %+gar_story_messenger_dogs_dead%
condlist_0 = {+gar_story_digger_killed_or_hostile} reversed
play_regard = nil
wait_time = 0
auto_name = false
community_relation_delta_complete = 50

[gar_story_go_to_freedom]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 2
name = gar_story_go_to_freedom_name
text = gar_story_go_to_freedom_text
condlist_0 = {+val_temp_start_quest_complete} complete
target_story_ids = 1199
auto_name = false

[gar_story_chase_pda_signal]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 2
name = gar_story_chase_pda_signal_name
text = gar_story_chase_pda_signal_text
condlist_0 = {+gar_story_came_to_ambush_door} reversed
target_story_ids = 706
auto_name = false

[gar_story_chase_pda_signal_cellar]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
target_cond = true
prior = 2
name = gar_story_chase_pda_signal_cellar_name
text = gar_story_chase_pda_signal_cellar_text
condlist_0 = {+gar_story_cannot_find_fang} reversed
target_story_ids = 703
auto_name = false

[gar_story_get_pda]
type = storyline
task_type = storyline
;icon = ui_mt_image_attack_tower
spot = gar_story_get_pda_location
target_cond = true
prior = 3
name = gar_story_get_pda_name
text = gar_story_get_pda_text
condlist_0 = {+gar_story_got_fang_pda} complete
target_story_ids = 703
auto_name = false

;-----------------------------------------------------
;------------------ Secondary Quests -----------------
;-----------------------------------------------------

[gar_quest_redemption]
type = storyline
task_type = additional
prior = 12
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_redemption_name
text = gar_quest_redemption_text
condlist_0 = {+gar_quest_redemption_done} complete
target_story_ids = 727
auto_name = false

[gar_quest_get_old_pda]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_get_old_pda_name
text = gar_quest_get_old_pda_text
condlist_0 = {+gar_quest_get_old_pda_box_started} reversed
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 702
auto_name = false
auto_faction = true

[gar_quest_get_old_pda_box]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_get_old_pda_box_name
text = gar_quest_get_old_pda_box_text
condlist_0 = {+gar_quest_bring_old_pda_started} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 715
auto_name = false
auto_faction = true

[gar_quest_bring_old_pda]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_bring_old_pda_name
text = gar_quest_bring_old_pda_text
condlist_0 = {+gar_quest_bring_old_pda_done} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = logic@work5, gar_smart_terrain_6_3
auto_name = false
auto_faction = true
community_relation_delta_complete = 50

[gar_quest_bring_money]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_bring_money_name
text = gar_quest_bring_money_text
condlist_0 = {+gar_quest_bring_money_done} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = logic@work5, gar_smart_terrain_6_3
auto_name = false
auto_faction = true
community_relation_delta_complete = 50

[gar_quest_get_weapons]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_get_weapons_name
text = gar_quest_get_weapons_text
condlist_0 = {+gar_quest_get_weapons_arrived} reversed
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 709
auto_name = false
auto_faction = true

[gar_quest_destroy_ambush]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_destroy_ambush_name
text = gar_quest_destroy_ambush_text
condlist_0 = {+gar_quest_get_weapons_destroyed_ambush} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 709
auto_name = false
auto_faction = true
community_relation_delta_complete = 100

[gar_quest_get_traitor_pda]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_get_traitor_pda_name
text = gar_quest_get_traitor_pda_text
condlist_0 = {+gar_quest_get_weapons_got_traitor_pda} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 709
auto_name = false
auto_faction = true

[gar_quest_speak_with_quester]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_speak_with_quester_name
text = gar_quest_speak_with_quester_text
condlist_0 = {+gar_quest_liberate_conc_camp_told} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = logic@work5, gar_smart_terrain_6_3
auto_name = false
auto_faction = true

[gar_quest_meet_with_digger_fighters]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_meet_with_digger_fighters_name
text = gar_quest_meet_with_digger_fighters_text
condlist_0 = {+gar_quest_meet_with_digger_fighters_done} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 710
auto_name = false
auto_faction = true

[gar_quest_liberate_conc_camp]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_liberate_conc_camp_name
text = gar_quest_liberate_conc_camp_text
condlist_0 = {+gar_quest_liberate_conc_camp_done} complete
condlist_1 = {+gar_flea_market_stop_quest_line} reversed
target_story_ids = 711
auto_name = false
auto_faction = true
community_relation_delta_complete = 150

[gar_quest_captive_reward]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_captive_reward_name
text = gar_quest_captive_reward_text
condlist_0 = {+gar_quest_captive_reward_done} complete
target_story_ids = 717
auto_name = false
auto_faction = true

;-----------------------------------------------------

[gar_quest_kill_digger_traitor]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_kill_digger_traitor_name
text = gar_quest_kill_digger_traitor_text
condlist_0 = {+gar_quest_kill_digger_traitor_done} complete, {+gar_quest_kill_digger_traitor_gone} reversed
condlist_1 = {=is_faction_enemy_to_actor(bandit)} reversed
target_story_ids = logic@work1, gar_smart_terrain_4_5
auto_name = false
reward_money = 1000
auto_faction = true
community_relation_delta_complete = 50

[gar_quest_kill_smuggler]
type = eliminate_smart
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = {+gar_quest_kill_smuggler_told -gar_quest_kill_smuggler_done =target_smart_name(gar_smart_terrain_4_2)} true
name = gar_quest_kill_smuggler_name
text = gar_quest_kill_smuggler_text
condlist_0 = {=is_faction_enemy_to_actor(bandit)} reversed
on_complete = %+gar_quest_kill_smuggler_done%
on_reversed = %+gar_quest_kill_smuggler_done%
target_story_ids = 709
auto_name = false
play_regard = nil
reward_money = 2000
auto_faction = true
community_relation_delta_complete = 100

[gar_quest_destroy_flea_market]
type = capture_smart
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = {+gar_quest_destroy_flea_market_told -gar_quest_destroy_flea_market_done =target_smart_name(gar_smart_terrain_6_3)} true
name = gar_quest_destroy_flea_market_name
text = gar_quest_destroy_flea_market_text
condlist_0 = {=is_faction_enemy_to_actor(bandit)} reversed
on_complete = %+gar_quest_destroy_flea_market_done%
on_reversed = %+gar_quest_destroy_flea_market_done%
auto_name = false
play_regard = nil
counter_attack = false
auto_faction = true
community_relation_delta_complete = 150

[gar_quest_bandit_reward]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_bandit_reward_name
text = gar_quest_bandit_reward_text
condlist_0 = {+gar_quest_bandit_reward_done} complete
condlist_1 = {=is_faction_enemy_to_actor(bandit)} reversed
target_story_ids = 725
auto_name = false
auto_faction = true

[gar_quest_more_reward]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_more_reward_name
text = gar_quest_more_reward_text
condlist_0 = {+gar_quest_bandit_secret_started} complete
condlist_1 = {=is_faction_enemy_to_actor(bandit)} reversed
target_story_ids = 724
auto_name = false
auto_faction = true

[gar_quest_bandit_secret]
type = storyline
task_type = additional
prior = 10
;icon = ui_mt_image_attack_tower
target_cond = true
name = gar_quest_bandit_secret_name
text = gar_quest_bandit_secret_text
condlist_0 = {+gar_quest_bandit_secret_done} complete
condlist_1 = {=is_faction_enemy_to_actor(bandit)} reversed
target_story_ids = 717
auto_name = false
auto_faction = true

;Recover Items

[gar_recover_item_1]
type = recover_item
task_type = additional
name = gar_recover_item_1_name
text = gar_recover_item_1_text
target_npc_or_box_name = gar_recover_item_1_corpse
distanse = 100
prior = 2
faction = bandit
target_cond = {=actor_on_level(garbage) -gar_recover_item_1_done} true, false
on_init = %+gar_recover_item_1_done%
requested_items = gar_quest_wpn_wincheaster1300
community_relation_delta_complete = 100
reward_money = 500
auto_faction = true

[gar_recover_item_2]
type = recover_item
task_type = additional
name = gar_recover_item_2_name
text = gar_recover_item_2_text
target_npc_or_box_name = gar_recover_item_2_corpse
distanse = 100
prior = 2
faction = bandit
target_cond = {=actor_on_level(garbage) -gar_recover_item_2_done} true, false
on_init = %+gar_recover_item_2_done%
requested_items = gar_quest_wpn_desert_eagle
community_relation_delta_complete = 100
reward_money = 1500
auto_faction = true

[gar_recover_item_3]
type = recover_item
task_type = additional
name = gar_recover_item_3_name
text = gar_recover_item_3_text
target_npc_or_box_name = gar_treasure_4
distanse = 100
prior = 2
faction = bandit
target_cond = {=actor_on_level(garbage) -gar_recover_item_3_done} true, false
on_init = %+gar_recover_item_3_done%
requested_items = gar_quest_vodka_2
community_relation_delta_complete = 100
reward_money = 200
auto_faction = true

[gar_recover_item_4]
type = recover_item
task_type = additional
name = gar_recover_item_4_name
text = gar_recover_item_4_text
target_npc_or_box_name = gar_recover_item_4_corpse
distanse = 100
prior = 2
faction = stalker
target_cond = {=actor_on_level(garbage) -gar_recover_item_4_done} true, false
on_init = %+gar_recover_item_4_done%
requested_items = gar_quest_novice_outfit
community_relation_delta_complete = 100
reward_money = 750
auto_faction = true

[gar_recover_item_5]
type = recover_item
task_type = additional
name = gar_recover_item_5_name
text = gar_recover_item_5_text
target_npc_or_box_name = gar_recover_item_5_corpse
distanse = 100
prior = 2
faction = stalker
target_cond = {=actor_on_level(garbage) -gar_recover_item_5_done} true, false
on_init = %+gar_recover_item_5_done%
requested_items = gar_quest_wpn_pm
community_relation_delta_complete = 100
reward_money = 750
auto_faction = true