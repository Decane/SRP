[logic]
active = sr_idle

[sr_idle]
on_info = {-yan_quest_levsha =is_smart_in_combat(yan_smart_terrain_6_4) !smart_captured_by_faction(yan_smart_terrain_6_4:zombied)} sr_idle@check_attack %+yan_alarm_signal_stalkers_cut2 =play_sound_looped(siren2)%, {-yan_quest_levsha =smart_captured_by_faction(yan_smart_terrain_6_4:zombied)} sr_idle@stop_signal %=give_inited_task(defend_smart:yan_smart_terrain_6_4:stalker) +yan_alarm_signal_stalkers_cut2 =play_sound_looped(siren2)%
on_info2 = {+yan_quest_levsha =is_smart_in_combat(yan_smart_terrain_6_4) !smart_captured_by_faction(yan_smart_terrain_6_4:zombied)} sr_idle@stop_signal %+yan_alarm_signal_stalkers_cut2 =play_sound_looped(siren2)%, {+yan_quest_levsha =smart_captured_by_faction(yan_smart_terrain_6_4:zombied)} sr_idle@stop_signal %+yan_alarm_signal_stalkers_cut2 =play_sound_looped(siren2)%

[sr_idle@check_attack]
on_info = {=is_smart_defending(yan_smart_terrain_6_4)} sr_idle@stop_signal %=give_inited_task(defend_smart:yan_smart_terrain_6_4:stalker)%, sr_idle@stop_signal

[sr_idle@stop_signal]
on_info = {!is_smart_in_combat(yan_smart_terrain_6_4) !smart_captured_by_faction(yan_smart_terrain_6_4:zombied)} sr_idle %-yan_alarm_signal_stalkers_cut2 =stop_sound_looped()%